<template>
  <div class="page">
    <div class="page-content">
      
      <swiper-container pagination parallax speed="600" class="demo-swiper-parallax text-color-white">
        <div slot="container-start" data-swiper-parallax="-23%"
          style="background-image: url(/assets/images/navchokiya.jpg)"
          class="swiper-parallax-bg"></div>
        <swiper-slide>
          <div data-swiper-parallax="-300" class="swiper-slide-title text-color-primary">
            Jodhana
          </div>
          <div data-swiper-parallax="-200" class="swiper-slide-subtitle badge bg-color-primary">
            The Blue City
          </div>
          <div data-swiper-parallax="-100" class="swiper-slide-text border-color-red">
            <p>
              Jodhana (officially called Jodhpur) is a cultural city located in the western part of India, in the center of Rajasthan. It is known for ancient temples, beautiful forts and palaces, havells and even houses that are built in vivid shades of blue.
            </p>
          </div>
        </swiper-slide>
        <swiper-slide>
          <div data-swiper-parallax="-300" class="swiper-slide-title time text-color-primary">
            
          </div>
          <div data-swiper-parallax="-200" class="swiper-slide-subtitle date">
            
          </div>
        </swiper-slide>
      </swiper-container>
    </div>
  </div>
</template>
<script>
  export default function (props, $f7, $onMounted, ctx) {
    
    const time = () => {
      const t = new Date();
      const te = t.toLocaleTimeString().replace(/([\d]+:[\d]{2})(:[\d]{2})(.*)/, "$1$3");
      $('.time').text(te);
      date();
      setTimeout(time, (60-t.getSeconds())*1000||1000);
    };
    
    const date = () => {
      const d = new Date();
      const de = d.toLocaleDateString("en-US", { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
      $('.date').text(de);
      
      //var nD = new Date(d);
      //nD.setDate(d.getDate() + 1);
      //nD.setHours(0, 0, 0);
      //console.log(d.getDate(), d.getTime(), nD.getDate(), nD.getTime(), nD.getTime() - d.getTime());
      
      //setTimeout(date, (nD.getTime() - d.getTime())||1000);
    };
    
    
    app.on('tabInit', () => {
      time();
    });
    
    
    return $render;
  };
  </script>
